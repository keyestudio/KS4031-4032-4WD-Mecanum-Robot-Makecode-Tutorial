# Getting Started With 4WD Mecanum Robot

![](makecode/media/718228ea3ade238b6d0fc30b45bfa8d9.png)

## 1.Introduction

Have you wondered to learn programming or have your own programming robot? Nowadays, programming has developed to a lower age group, and it will be a trend for everyone to be able to program thanks to the spread of simple graphical programming platforms, from micro:bit to Arduino and Raspberry Pi. Maybe you haven't heard of them before. It doesn't matter because with the help of this product and tutorial, you can easily install a multi-functional programming car and experience the fun of being a maker.

Micro:bit is a highly integrated microcontroller of powerful functions and small size. It is very suitable to be applied in STEAM education for it functions to make robots, wearable devices and electronic interactive games via the combination of code programming and graphical programming.

This Keyestudio 4WD Mecanum Robot Car is a smart DIY car specially designed for micro:bit. The smart car kit consists of a car body with extended functions, a PCB base plate with integrated motor drive sensors, 4 decelerating DC motors, Mecanum wheels, various modules and sensors and acrylic boards. Therefore, you can easily assemble a cool Mecanum wheel 4WD smart car by yourself, and then use Microsoft's online graphical programming platform Make Code to program the micro:bit control board to control the car. In the process, you can not only experience the fun of creation but enhance hands-on ability and learn
programming skills as well.

MakeCode for micro:bit is the most widely used graphical programming environment on the micro:bit official website. It is based on the graphical programming environment developed by Microsoft's open source project MakeCode. This graphical programming can also be converted to code languages, python and javascript language. This combination makes learn programming easy. At the same time, MakeCode programming can be simulated or programmed for actual electronic
components.

For your convenience, source code has been provided in every project, as well as code programming steps and code explanation in details. Hope you can better understand them.



## 2.Description

This product is a smart car based on Micro:bit. It boasts multiply functions including ultrasonic sound following, line tracking, infrared control and Bluetooth control. It comes with a passive buzzer which is able to play music, 4 WS2812RGB LEDs to display different colors, 2 colorful lights to make direction lights for the car. This product uses two 18650 lithium batteries for power supply.

When installing and disassembling the battery, please pay attention to the positive and negative poles of the battery, and be sure not to reverse the them. By the way, the motor speed of this product is adjustable.

In order to provide you with better experience, corresponding documents about installation and test code are also provided.



## 3.Parameters

-   Connector port input: DC 6V---9V

-   Operating voltage of drive board system: 5V

-   Standard operating power consumption: about 2.2W

-   Maximum power: Maximum output power is 12W

-   Motor speed: 200RPM/1min

-   Working temperature range: 0-50℃

-   Size: 120\*120\*120mm

-   Environmental protection attributes: ROHS

Note: working voltage of micro:bit is 3.3V, driver shield integrates 3.3V/5V communication conversion circuit.



## 4.Kit List

| \# | Picture                                                                                               | Components                                                                 | Quantity |
|----|-------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|----------|
| 1  | ![](makecode/media/c4c1f66bfc8de61faaa619ba91fa7fc2.png)                                                      | KS0511 Acrylic Board T=3mm                                                 | 1        |
| 2  | ![](makecode/media/7837c0367f7adbd2b21ad6f9a5c4c8b8.png)                                                      | Acrylic Board with Lego Holes T=3mm                                        | 1        |
| 3  | ![](makecode/media/31d33954620e3b69bfd5557b8e0439e6.png)                                                      | 4.5V Motor                                                                 | 4        |
| 4  | ![](makecode/media/2f64d4dabaa5bf1964fb34b23ef43132.png)                                                      |  23\*15\*5MM Fixing Board                                                  | 4        |
| 5  | ![](makecode/media/2f229312cfd3bea2d0db3f440b81f690.png)                                                     | Servo                                                                      | 1        |
| 6  | ![](makecode/media/f84b59007fb2517e6a783ad17970f790.png) | Mecanum Wheels                                                             | 4        |
| 7  | ![](makecode/media/65884ae4c17de5249646d5389ae405c5.png)                                                   | Keyestudio Micro:bit IO Port Expansion Sensor Shield With Level Conversion | 1        |
| 8  | ![](makecode/media/79badac57662af1bf343e5a8bf9db2d4.png)                                                     | KS4031--- With Micro:bit V2.0                                              |          |
|    |                                                                                                       | KS4032---- Without Micro:bit V2.0                                          |          |
| 9  | ![](makecode/media/0da9f59b26ac3d3d11e0895ed9d93147.png)                                                   |  Keyestudio Driver Board                                                   | 1        |
| 10 | ![](makecode/media/810e2c6c01f8d934569784132b97e2b4.png)                                                     | M3\*20MM Dual-pass Copper Pillar                                           | 4        |
| 11 | ![](makecode/media/1324daf45854ddded2c0eaa32c3257a4.png)                                                     |  4265c Lego Part                                                           | 4        |
| 12 | ![](makecode/media/01fb7aa79db725d6c10895e435a0009d.png)                                                     |  43093 Lego Part                                                           | 4        |
| 13 | ![](makecode/media/d101ebf87f35fb78e3db9c2ed88eab57.png)                                                     | Acrylic Gasket Six in One Pack                                             | 1        |
| 14 | ![](makecode/media/80fe963eb9b399fb655f5b0fd4b4dc60.png)                                                     | M3\*6MM Round Head Screw                                                   | 18       |
| 15 | ![](makecode/media/a96e975b2faeb956bb4f16500f55adca.png)                                                     | Keyestudio Ultrasonic Module                                               | 1        |
| 16 | ![](makecode/media/ba55fc578ecd84cecd2e7abc0db087f5.png)                                                     | M3 Nickle-plated Nut                                                       | 14       |
| 17 | ![](makecode/media/30ac283b6f6177536ce62ab88d9733ff.png)                                                     | M3\*30MM Round Head Screw                                                  | 9        |
| 18 | ![](makecode/media/5da761be5dad1e7db6f2678b0f4e862d.png)                                                     | M2 Nickle-plated Nut                                                       | 3        |
| 19 | ![](makecode/media/dfbaff8ac89eaed99240c0ab2d307c45.png)                                                     | M2\*8MM Round Head Screw                                                   | 3        |
| 20 | ![](makecode/media/ac53799118ad167bb28ed0817bd380c9.png)                                                     | M3\*8MM Round Head Screw                                                   | 5        |
| 21 | ![](makecode/media/40d21ac6488bfbd3b6a1ccfbd7da0fd7.png)                                                 | Remote Control (without batteries)                                         | 1        |
| 22 | ![](makecode/media/f295dba2d37da50283d15d52b29824bb.png)                                                     | Plastic String 3\*100mm                                                    | 5        |
| 23 | ![](makecode/media/4e904036bc560a3ea4c078a19eefd10e.png)                                                      | USB Cable                                                                  | 1        |
| 24 | ![](makecode/media/625dbb35c944669554040070898564c6.png)                                                      | HX-2.54 2P DuPont Wire 100mm                                               | 1        |
| 25 | ![](makecode/media/90e8fb3cc3480943f0cbdc61922a8183.png)                                                     |  HX-2.54 4P DuPont Wire 50mm                                               | 2        |
| 26 | ![](makecode/media/ce69a36818263a19cec0f74a843b73ff.png)                                                      | XH2.54 4P DuPont Wire 160mm                                                | 1        |
| 27 | ![](makecode/media/13c73841255c28efc676f59f1b3d2479.png)                                                      | XH2.54 3P DuPont Wire 50mm                                                 | 2        |
| 28 | ![](makecode/media/6833beefc1c2e7f41738663b526402d9.png)                                                     | 3\*40mm Screwdriver                                                        | 1        |
| 29 | ![](makecode/media/d322da60be4c1aab1efb384202da16c3.png)                                                     | M1.2\*5mm Round Head Self-tapping Screw                                    | 6        |

## 5.Preparations:

**5.1 Background Information about Micro:bit**

**( 1 )What is Micro:bit?**

Micro:bit is an open source hardware platform based on the ARM architecture launched by British Broadcasting Corporation (BBC) together with ARM, Barclays, element14, Microsoft and other institutions. The core device is a 32-bit Arm Cortex-M4 with FPU micro-processing.

Though it is just the size of a credit card, the Micro:bit main board is equipped with loads of components,including a 5\*5 LED dot matrix, 2 programmable buttons, an accelerometer, a compass, a thermometer, a touch-sensitive logo and a MEMS microphone, a Bluetooth module of low energy, and a buzzer and others. Thus, it also boasts multiple functions.

The buzzer built in the other side of the board makes playing all kinds of sound possible without any external equipment. The golden fingers and gears added provide a better fixing of crocodile clips. Moreover, this board has a sleeping mode to lower power consumption of batteries and it can be entered if users long press the Reset & Power button on the back of it. It is capable of reading the data of sensors, controlling servos and RGB lights and attaching with a shield so as to connect with various sensors. It also supports a variety of codes and graphical programming platforms, and is compatible with almost all PCs and mobile devices. It has no need to install drivers. It is of high integration of electronic modules, and has a serial port monitoring function for easy debugging.

The board has found wide applications. It can be applied in programming video games, making interactions between light and sound, controlling a robot, conducting scientific experiments, developing wearable devices and make some cool inventions like robots and musical instruments, basically everything imaginable.

**( 2 )Layout**

![](makecode/media/ae1ddaa286548b2e6414a8284f85325d.png)

For more information,please resort to following links：https://tech.microbit.org/hardware/

https://microbit.org/new-microbit/

https://www.microbit.org/get-started/user-guide/overview/

<https://microbit.org/get-started/user-guide/features-in-depth/>

**( 3 ) Pinout**

![](makecode/media/827b32e06f290b4aa4425c60b335d5b2.png)

**The functions of pins:**

| GPIO                       | P0，P1，P2，P3，P4，P5，P6，P7，P8，P9，P10，P11，P12，P13，P14，P15，P16，P19，P20                |
|----------------------------|----------------------------------------------------------------------------------------------------|
| ADC/DAC                    | P0，P1，P2，P3，P4，P10                                                                            |
| IIC                        | P19（SCL），P20（SDA）                                                                             |
| SPI                        | P13（SCK），P14（MISO），P15（MOSI）                                                               |
| PWM（used frequently）     | P0，P1，P2，P3，P4，P10                                                                            |
| PWM（not frequently used） | P5、P6、P7、P8、P9、P11、P12、P13、P14、P15、P16、P19、P20                                         |
| Occupied                   | P3(LED Col3)，P4(LED Col1)，P5(Button A)，P6(LED Col4)，P7(LED Col2)，P10(LED Col5)，P11(Button B) |

Browse the official website for more details:

<https://tech.microbit.org/hardware/edgeconnector/>

<https://microbit.org/guide/hardware/pins/>

**( 4 )Notes for the application of Micro:bit main board**

It is recommended to cover it with a silicone protector to prevent short circuit for it has a lot of sophisticated electronic components.
    
Its IO port is very weak in driving since it can merely handle current less than 300mA. Therefore, do not connect it with devices operating in large current, such as servo MG995 and DC motor or it will get burnt. Furthermore, you must figure out the current requirements of the devices before you use them and it is generally recommended to use the board together with a Micro:bit shield.
    
It is recommended to power the main board via the USB interface or via the battery of 3V. The IO port of this board is 3V, so it does not support sensors of 5V. If you need to connect sensors of 5 V, a Micro: Bit expansion board is required.
    
When using pins(P3, P4, P6, P7 and P10)shared with the LED dot matrix, blocking them from the matrix or the LEDs may display randomly and the data about sensors connected maybe wrong.
    
Pin 19 and 20 can not be used as IO ports though the Makecode shows they can. They can only be used as I2C communication.
    
The battery port of 3V cannot be connected with battery more than 3.3V or the main board will be damaged.
    
Forbid to operate it on metal products to avoid short circuit.

To put it simple, Micro:bit V2 main board is like a microcomputer which has made programming at our fingertips and enhanced digital innovation. And as for programming environment, BBC provides a website: <https://microbit.org/code/,> which has a graphical MakeCode program easy for use.

**5.2.Install Micro:bit driver**

Micro:bit is free of driver installation. However, in case your computer fail to recognize the main board, you can install the diver too.

Just enter the link https://fs.keyestudio.com/KS4031-4032 to download the driver file ![](makecode/media/78709f5e0a6fdbd6a0f1c47873273353.png) of
micro:bit in file folder ![](makecode/media/0639221bcfa4728e2f8eeb5bc81a73d3.png)

## 6.Assemble 4WD Mecanum Robot 

This chapter will introduce the function and structure of keyestudio 4WD Mecanum Robot Car. It is a programmable car based on BBC micro:bit. Driven by motors, it boasts a line tracking sensor and an infrared receiver integrated into the bottom plate, an ultrasonic sensor, servos ,2 colorful lights, 4 WS2812 RGB lights. The wiring is not complicated and it has Lego jacks to facilitate
connection with other peripheral devices. Abundant hardware resources will enable you to master more knowledge and skills, so that you can use your imagination to create more technological inventions.

#### 6.1.Basic Information about Keyestudio 4WD Mecanum Robot Car

This car can help you to better learn to use Micro:bit and obtain electronic knowledge.

**Components:** an ultrasonic sensor, servos ,2 colorful lights, 4 WS2812 RGB lights 4 decelerating DC motors, Mecanum wheels,

| Sensor | Colorful light | Decelerating DC motor | Servo | Ultrasonic sensor | Line Tracking Sensor | Infrared Receiver   | WS2812  RGB light  | Power switch |
|--------|----------------|-----------------------|-------|-------------------|----------------------|---------------------|--------------------|--------------|
| \#     | 2              | 4                     | 1     | 1                 | 1                    | 1                   | 4                  | 1            |

Note: the line tracking sensor, WS2812 RGB lights and infrared receiver servo are integrated in the base.

**Pins：**

| Pin on Micro:bit  | Sensors of the keyestudio 4WD Mecanum Robot Car |
|-------------------|-------------------------------------------------|
| P1 P2             | Line Tracking Sensor                            |
| P14               | Servo                                           |
| P8                | 4个WS2812RGB Lights                             |
| P9                | Infrared Receiver                               |
| P15P16            | Ultrasonic Sensor                               |

**Power supply and Battery**

The keyestudio 4WD Mecanum Robot Car is powered by two 18650 batteries. The battery holder of the car is compatible with any type of 18650 lithium battery (rechargeable). You can use a universal battery charger to charge the 18650 lithium battery.

Please note: This product does not contain batteries.

#### 6.2. the Installation of keyestudio 4WD Mecanum Robot Car

| Part 1                                                                                  |                                                                                                                                                                                                                   |
|-----------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  Components Needed                                                                      | ![](makecode/media/731254f55fcfef311e70a4ff584972d8.jpeg)                   |
|   Installation Diagram                                                                  | ![](makecode/media/5310ba0f75fb4cd5cb99d140f36032a8.jpeg)               |
|   Prototype                                                                             | ![](makecode/media/a5fa340b258a9c7df3436fb5a65e0655.jpeg)               |
| Part 2                                                                                  |                                                                                                                                                                                                                   |
|   Components Needed                                                                     | ![](makecode/media/875feba53492c8146cc83bf74476550b.jpeg)                   |
|    Installation Diagram                                                                 | ![](makecode/media/b9ea2932e42db6fa832ff5e6358afef5.jpeg)               |
|    Prototype                                                                            | ![](makecode/media/4e937948a3204c094fdef30bfc70c807.jpeg)               |
| Part 3                                                                                  |                                                                                                                                                                                                                   |
|  Components Needed                                                                      | ![](makecode/media/de5ba3aa83364faa82d613e2978e002c.jpeg)                   |
|     Installation Diagram                                                                | ![](makecode/media/68420b045bcaaf216a972b5badb5d872.jpeg)               |
|   Prototype                                                                             |  ![](makecode/media/0a07e6a182752d60a0660d8609f8132a.jpeg)              |
| Part 4（adjust the angle of the servo first）                                           |                                                                                                                                                                                                                   |
| Adjust the angle of the servo to 90 degrees according to the test code in project 8.15  |  ![](makecode/media/a9ff633c21fba9a17a65ef93ead42737.png)                                                                                                                                           |
|  Components Needed                                                                      | ![](makecode/media/5248197874b16c55307e48246409aec2.jpeg)                   |
|   Installation Diagram (mind the installation direction)                                | ![](makecode/media/7767b8db64847323d18cd6de91400d52.jpeg)               |
|   Prototype                                                                             | ![](makecode/media/597e69277d33ce8dcc0db07e0625ba5b.jpeg)               |
| Part 5                                                                                  |                                                                                                                                                                                                                   |
|  Components Needed                                                                      | ![](makecode/media/463b3ac053e9fd2309d64ae1d5ceeb0a.jpeg)       |
|   Installation Diagram                                                                  | ![](makecode/media/f5898cfe1cbcdeadd486e3bdc50995b5.jpeg)   |
|   Prototype                                                                             | ![](makecode/media/2bb12512a13b5eca1ca46136db0d1f51.jpeg)   |
| Part 6                                                                                  |                                                                                                                                                                                                                   |
|   Components Needed                                                                     | ![](makecode/media/54f950129507af1571243b66068c45fe.jpeg)   |
|   Installation Diagram                                                                  | ![](makecode/media/3ade007eeb772bfe1397775bca0f6aa4.jpeg)   |
|   Prototype                                                                             | ![](makecode/media/755dd618a650c3ad29a55659cd684418.jpeg)   |
| Part 7                                                                                  |                                                                                                                                                                                                                   |
|  Components Needed                                                                      | ![](makecode/media/b313c679a80581a7cb726fa75d8225fd.jpeg)   |
|  Installation Diagram (mind the direction of the motor)                                 | ![](makecode/media/f0211b8293c1372a96e15334c48f7f37.jpeg)   |
|   Prototype                                                                             | ![](makecode/media/ca1447273837723e5937b1a302b5a933.jpeg)   |
| Part 8                                                                                  |                                                                                                                                                                                                                   |
|   Components Needed                                                                     | ![](makecode/media/37c4ad21f3764c701144a293280d9e35.jpeg)   |
| Installation Diagram (Pay attention to the installation direction of the mecanum wheel) | ![](makecode/media/2e0e201898f26bd935c5eba786b2ae7f.jpeg) |
|   Prototype                                                                             | ![](makecode/media/040a41b916b6dc3f7dfcc8995e774cfb.jpeg) |
| Part 9                                                                                  |                                                                                                                                                                                                                   |
|  Components Needed                                                                      | ![](makecode/media/dd6f477de6c88645b26ccb847fdb94e4.jpeg) |
|    Installation Diagram                                                                 | ![](makecode/media/2fd6edcfe34bdc77c2e0c636c3a0232b.jpeg) |
|   Prototype                                                                             | ![](makecode/media/3969e9f4a13eccacc0423832086ea0c3.jpeg) |
| Part 10                                                                                 |                                                                                                                                                                                                                   |
|   Components Needed                                                                     | ![](makecode/media/bf277995e35dba43ee4b12c5e2914cb0.jpeg) |
|    Installation Diagram                                                                 | ![](makecode/media/3db5a6521b8a1150dbf3da4545307bda.jpeg) |
|   Prototype                                                                             | ![](makecode/media/46a9762f93ffcfcc310d71dea577e0af.jpeg) |
| Start Wiring                                                                            |                                                                                                                                                                                                                   |
|  The wiring of the RGB lights                                                           | ![](makecode/media/53966e62c7c3871c1053fe15af4f700d.jpeg)                                                                                                                                   |
|  The wiring of the infrared receiver module                                             | ![](makecode/media/70cebd925116354a8c932ae10128341c.jpeg)                                                                                                                                   |
| The wiring of the motor and colorful lights                                             | ![](makecode/media/f04513013a53e3ddb87df542298f271e.jpeg)                                                                                                                                   |
|  The wiring of the line-tracking sensor                                                 | ![](makecode/media/912fad4351035c139ec28a31eb9cf456.jpeg)                                                                                                                                   |
|  The wiring of the ultrasonic sensor                                                    | ![](makecode/media/cc5b9e7e23e8df976b29e2166fcba2aa.jpeg)                                                                                                                                   |
|  The wiring of the servo                                                                | ![](makecode/media/5d3b1e01a42265cc2a926004a3788d15.jpeg)                                                                                                                                   |
|  The wiring of the M1 motor                                                             | ![](makecode/media/678bd61732fcd06566b4f85d3ee80d3b.jpeg)                                                                                                                                   |
|  The wiring of the M2 motor                                                             | ![](makecode/media/4caa988e8bb624f77d09da29b0fb533b.jpeg)                                                                                                                                   |
|  The wiring of the M3 motor                                                             | ![](makecode/media/9c6b94cd86d8e9842ec54d43012bb16c.jpeg)                                                                                                                                   |
|  The wiring of the M4 motor                                                             | ![](makecode/media/1e0643aedd31543493cedfec23f91fb9.jpeg)                                                                                                                                   |
| The wiring of the power supply (the 5V is connected to the shield)                      | ![](makecode/media/3d5e4b76b7fd53201f5423d4afc1efb9.png)                                                                                                                                                            |
|   Note the negative and positive poles of the battery                                   | ![Img](./makecode/media/img-20230522083736.png)
                                                                                                                                                            |


## 7. Resources:

[Download PDF files](https://fs.keyestudio.com/KS4031-4032) 

BBC microbit MicroPython:

<https://microbit-micropython.readthedocs.io/en/latest/tutorials/introduction.html>

MicroPython:

<https://docs.openmv.io/reference/index.html>

ustruct library:

<https://docs.openmv.io/library/ustruct.html>

math library:

<https://docs.openmv.io/library/math.html>

utime(sleep_us,tick_us) library:

[https://docs.openmv.io/library/utime.html\#](https://docs.openmv.io/library/utime.html)

 
